<html>
    <head>
        <meta charset="utf-8">
        <title>生命周期</title>        
    </head>
    <body>

        <div id="app">
            <ol>
                <li v-for="msg in messageList">{{ msg }}</li>
            </ol>
            <p>count: {{ count }}</p>
            <button v-on:click="refresh">强制更新</button>
        </div>

        <script src="../node_modules/vue/dist/vue.js"></script>
        <script>
            var app = new Vue({
                el: '#app',
                data: {
                    count: 0,
                    messageList: ['initial message']
                },
                computed: {
                    message: {
                        get: function () {
                            return this.messageList[this.messageList.length - 1];
                        },
                        set: function (newValue) {
                            this.messageList.push(newValue);
                        }
                    }
                },
                methods: {
                    refresh: function () {
                        this.count++;
                    }
                },
                mounted: function () {
                    this.message = 'app mounted';
                },
                updated: function () {
                    console.log('app updated');
                    // this.message = 'app updated';
                }
            })
        </script>        
    </body>
</html>