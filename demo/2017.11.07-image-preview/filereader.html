<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
	<title>图片预览-使用filereader</title>
</head>
<body>

  <div>
      <input type="file" id="file" >
  </div>
  <div>
    <img id="preview" src="about:blank" />
  </div>

  <script>
    function $ (id) {
      return document.getElementById(id);
    }
    $('file').addEventListener('change', function (evt) {      
      var file = evt.target.files[0];
      if (!/^image/.test(file.type)) {
        alert('只支持图片格式');
        return;
      }

      var reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onloadend = function (evt) {
        var img = $('preview');
        var result = evt.target.result;
        img.src = result;
      };
    });
  </script>

</body>
</html>