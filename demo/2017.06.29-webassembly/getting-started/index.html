<!DOCTYPE html>
<html>
<head>
	<title>demo</title>
</head>
<body>

<script type="text/javascript">

// 导入的方法
var importObject = {
	imports: {
		imported_func: function(arg) {
			console.log(arg);
		}
	}
};

fetch('simple.wasm').then(response =>
	response.arrayBuffer()
).then(bytes =>
	// 对wasm模块进行实例化
	WebAssembly.instantiate(bytes, importObject)
).then(result =>
	// result 为实例化后的wasm模块
	// result.instance 为wasm模块对应的实例子
	// result.instance.exports 为wasm模块导出的方法集
	result.instance.exports.exported_func()
);

</script>

</body>
</html>